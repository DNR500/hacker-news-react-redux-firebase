webpackJsonp([1],{118:function(e,t,r){"use strict";var n=r(127);(0,function(e){return e&&e.__esModule?e:{default:e}}(n).default)()},119:function(e,t){},120:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(){return{type:f.default.GetTopStoriesRequested}}function o(e){return{type:f.default.GetTopStoriesRejected,error:e}}function a(e){return{type:f.default.GetTopStoriesFulfilled,topstories:e}}function i(){return function(e){return e(u()),_().then(m).then(v).then(y).then(h).then(b).then(function(t){return e(a(t))}).catch(function(t){return e(o(t))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var l=r(131),s=n(l),c=r(68),f=n(c),d=r(126),p=n(d),_=function(){return p.default.ref("/v0").child("topstories").once("value")},m=function(e){return(0,s.default)(e.val()).slice(0,10)},v=function(e){var t=e.map(function(e){return p.default.ref("/v0").child("item/"+e).once("value").then(function(e){return e.val()})});return Promise.all(t)},y=function(e){var t=e.map(function(e){return p.default.ref("/v0").child("user/"+e.by).once("value").then(function(e){return e.val()})});return Promise.all(t).then(function(t){return p.default.goOffline(),{users:t,stories:e}})},h=function(e){var t=e.users;return e.stories.map(function(e,r){return{id:e.id,title:e.title,url:e.url,time:e.time,score:e.score,authorId:t[r].id,authorKarma:t[r].karma}})},b=function(e){return e.sort(function(e,t){return e.score-t.score})}},121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){return u.default.createElement("div",{className:"loading-indicator--rings"})};t.default=o},122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){var t=new Date(1e3*e);return t.toLocaleDateString("en-GB")+" "+t.toLocaleTimeString("en-GB")},a=function(e){var t=e.story,r=t.title,n=t.url,a=t.time,i=t.score,l=t.authorId,s=t.authorKarma;return u.default.createElement("li",{className:"stories-list__item"},u.default.createElement("h2",{className:"stories-list__item__title"},r),u.default.createElement("div",{className:"stories-list__item__details"},u.default.createElement("div",{className:"stories-list__item__author-details"},u.default.createElement("span",{className:"stories-list__item__author"},"by ",l),u.default.createElement("span",{className:"stories-list__item__karma"},"author karma: ",s)),u.default.createElement("div",{className:"stories-list__item__story-details"},u.default.createElement("span",{className:"stories-list__item__time"},"Published ",u.default.createElement("time",null,o(a))),u.default.createElement("span",{className:"stories-list__item__score"},"score: ",i))),u.default.createElement("a",{href:n,className:"stories-list__item__link"},"click for more"))};a.propTypes={story:u.default.PropTypes.object.isRequired},t.default=a},123:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(15),o=n(u),a=r(122),i=n(a),l=function(e){var t=e.stories;return o.default.createElement("div",{className:"container stories-container"},o.default.createElement("ul",{className:"stories-list"},t.map(function(e){return o.default.createElement(i.default,{story:e,key:e.id})})))};l.propTypes={stories:o.default.PropTypes.array},t.default=l},124:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(15),s=n(l),c=r(123),f=n(c),d=r(121),p=n(d),_=function(e){function t(){return u(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.onGetTopstories()}},{key:"topstoriesRenderable",value:function(){return this.props.topstories.length>0}},{key:"render",value:function(){var e=this.props.topstories;return this.topstoriesRenderable()?s.default.createElement(f.default,{stories:e}):s.default.createElement(p.default,null)}}]),t}(s.default.Component);t.default=_,_.propTypes={onGetTopstories:s.default.PropTypes.func.isRequired,topstories:s.default.PropTypes.array.isRequired}},125:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return{topstories:e.topstories}}function o(e){return{onGetTopstories:function(){return e((0,c.default)())}}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(107),i=r(124),l=n(i),s=r(120),c=n(s),f=(0,a.connect)(u,o)(l.default);t.default=f},126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o={databaseURL:"https://hacker-news.firebaseio.com/"};u.default.initializeApp(o);var a=u.default.database();t.default=a},127:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(){l.default.render(a.default.createElement(s.Provider,{store:p.default},a.default.createElement(f.default,null)),document.getElementById("main"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=r(15),a=n(o),i=r(184),l=n(i),s=r(107),c=r(125),f=n(c),d=r(130),p=n(d)},128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67),u=r(129),o=function(e){return e&&e.__esModule?e:{default:e}}(u),a=(0,n.combineReducers)({topstories:o.default});t.default=a},129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(68),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case u.default.GetTopStoriesFulfilled:return t.topstories||e.slice(0);default:return e}};t.default=o},130:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(67),o=r(269),a=n(o),i=r(128),l=n(i),s=(0,u.createStore)(l.default,{},(0,u.applyMiddleware)(a.default));t.default=s},131:function(e,t,r){"use strict";function n(e){for(var t=e.slice(0),r=t.length,n=void 0,u=void 0;0!==r;)u=Math.floor(Math.random()*r),r-=1,n=t[r],t[r]=t[u],t[u]=n;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},280:function(e,t,r){r(118),e.exports=r(119)},68:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={GetTopStoriesRequested:"GET_TOPSTORIES_REQUESTED",GetTopStoriesRejected:"GET_TOPSTORIES_REJECTED",GetTopStoriesFulfilled:"GET_TOPSTORIES_FULFILLED"};t.default=n}},[280]);